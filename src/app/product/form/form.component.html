<div class="container" >
    <h1 class="text-center" >Formulário de produto</h1>
    <div class="row" >
  
      <div class="col-md-6" >
  
        <form [formGroup]="form" (submit)="save()">
      
          <div class="form-group">
            <label for="name">Nome</label>
            <input id="name" formControlName="name" [(ngModel)]="product.name" name="name"  type="text" class="form-control"  placeholder="Nome do produto" >
            <small *ngIf="form.controls.name.invalid"  class="form-text text-danger">
                <span *ngIf="form.controls.name.errors.required" >
                  Nome é obrigatório
                </span>
                <span *ngIf="form.controls.name.errors.minlength" >
                  O nome deve ter pelo menos 4 caracteres.
                </span>
            </small>
          </div>
      
          <div class="form-group" >
            <label for="value">Valor</label>
            <input maxlength="6" id="value" formControlName="value" [(ngModel)]="product.value" name="value" type="text" class="form-control" placeholder="Valor do produto" >
            <small *ngIf="form.controls.value.invalid"  class="form-text text-danger">
              <span *ngIf="form.controls.value.errors.required" >
                Valor é obrigatório
              </span>
              <span *ngIf="form.controls.value.errors.maxlength" >
                  O nome deve ter no máximo 6 caracteres.
              </span>
            </small>
          </div>
          
          <div class="form-group" >
            <label for="url">URL</label>
            <input id="url" formControlName="url" [(ngModel)]="product.url" name="url" type="text" class="form-control" placeholder="URL da imagem do produto" >
            <small *ngIf="form.controls.url.invalid"  class="form-text text-danger">
              <span *ngIf="form.controls.url.errors.required" >
                URL da imagem é obrigatória
              </span>
            </small>
          </div>
      
      
          <div class="form-group" >
            <label for="description">Descrição</label>
            <textarea maxlength="80" id="description" placeholder="Descrição do seu produto" formControlName="description" [(ngModel)]="product.description" name="description" class="form-control"></textarea>
            <small *ngIf="form.controls.description.invalid"  class="form-text text-danger">
              <span *ngIf="form.controls.description.errors.required" >
                Valor é obrigatório
              </span>
              <span *ngIf="form.controls.description.errors.minlength" >
                O nome deve ter pelo menos 10 caracteres.
              </span>
              <span *ngIf="form.controls.description.errors.maxlength" >
                  O nome deve ter no máximo 80 caracteres.
              </span>
            </small>
          </div>
          
          <button [disabled]="form.invalid" type="submit" class="btn btn-success" ><i class="far fa-save" ></i>  Salvar</button>
          <a routerLink="" class="btn btn-light"><i class="fas fa-caret-left" ></i> Voltar</a>
  
        </form>
  
      </div>
  
      <div class="col-md-4 offset-md-1" >
        <h4 class="text-center" >Previa do produto</h4>
  
        <app-card [image]="product.url ? product.url : 'http://www.villeparkhotel.com.br//assets/images/promocao-default.png'" title="{{product.name ? product.name : 'Nome do produto' }}" >
            <p class="card-text">{{product.description ? product.description : 'Descrição do produto' }}</p>
            <div class="d-flex justify-content-between align-items-center">
              <div class="btn-group">
                <button class="btn btn-sm btn-outline-primary"><i class="fas fa-edit"></i> Editar</button>
                <button class="btn btn-sm btn-outline-danger">Remover <i class="far fa-trash-alt" ></i></button>
              </div>
              <small class="text-muted">R$ {{product.value ? product.value : 'xxx.xx'}}</small>
            </div>
          </app-card>
      </div>
  
    </div>
  </div>